<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="This assumes that you have at the very least set up developer tools and Homebrew on your machine. Easy stuffThis gets most of the dependencies.  Install wget brew install wget Install nasm: brew insta">
<meta property="og:type" content="article">
<meta property="og:title" content="CSCE611 OS Env Prepare">
<meta property="og:url" content="https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/index.html">
<meta property="og:site_name" content="Mucheng&#39;s Website">
<meta property="og:description" content="This assumes that you have at the very least set up developer tools and Homebrew on your machine. Easy stuffThis gets most of the dependencies.  Install wget brew install wget Install nasm: brew insta">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-01-24T02:56:35.000Z">
<meta property="article:modified_time" content="2024-01-25T19:24:42.257Z">
<meta property="article:author" content="Mucheng">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>CSCE611 OS Env Prepare</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/muchengl">Projects</a></li><!--
     --><!--
       --><li><a href="/about-me/">About me</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2024/01/25/CSCE611-OS-Projest01-Note/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/12/26/2023-Self-Review/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&text=CSCE611 OS Env Prepare"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&is_video=false&description=CSCE611 OS Env Prepare"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=CSCE611 OS Env Prepare&body=Check out this article: https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&name=CSCE611 OS Env Prepare&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&t=CSCE611 OS Env Prepare"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Easy-stuff"><span class="toc-number">1.</span> <span class="toc-text">Easy stuff</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Building-gcc"><span class="toc-number">2.</span> <span class="toc-text">Building gcc</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vDependencies"><span class="toc-number">2.1.</span> <span class="toc-text">vDependencies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Acquiring-sources"><span class="toc-number">2.2.</span> <span class="toc-text">Acquiring sources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Building-binutils"><span class="toc-number">2.3.</span> <span class="toc-text">Building binutils</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Building-gcc-1"><span class="toc-number">2.4.</span> <span class="toc-text">Building gcc</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bochs-with-gdbstub"><span class="toc-number">3.</span> <span class="toc-text">Bochs with gdbstub</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        CSCE611 OS Env Prepare
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Mucheng</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-01-24T02:56:35.000Z" itemprop="datePublished">2024-01-23</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>This assumes that you have at the very least set up developer tools and <a target="_blank" rel="noopener" href="https://brew.sh/">Homebrew</a> on your machine.</p>
<h1 id="Easy-stuff"><a href="#Easy-stuff" class="headerlink" title="Easy stuff"></a>Easy stuff</h1><p>This gets most of the dependencies.</p>
<ul>
<li>Install wget <code>brew install wget</code></li>
<li>Install nasm: <code>brew install nasm</code></li>
<li>Install qemu and bochs: <code>brew install qemu bochs</code></li>
</ul>
<p>When we tested it out on Linux, we had to install a C++ compiler here:<br>`apt-get install g++’</p>
<h1 id="Building-gcc"><a href="#Building-gcc" class="headerlink" title="Building gcc"></a>Building gcc</h1><p>We need to build gcc as a cross-compiler, which is a massive headache. This guide aims to make it a little less of a pain.</p>
<p>I suggest opening a new shell specifically for this build process. Some environment variables need to be set for the build process to succeed.</p>
<p>First, decide where to install it. <code>/opt/local</code> is a good candidate for this, since it keeps it separate from homebrew and system files. Be sure to add it to your path after, though. This will be the prefix for the install of both binutils and gcc. This creates the directory and temporarily adds it to your path:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export PREFIX=/opt/local</span><br><span class="line">sudo mkdir -p $PREFIX</span><br><span class="line">sudo chown $(whoami):wheel $PREFIX</span><br><span class="line">export PATH=&quot;$PREFIX/bin:$PATH&quot;</span><br></pre></td></tr></table></figure>

<p>You may need to disable <a target="_blank" rel="noopener" href="https://support.apple.com/en-us/HT204899">SIP</a> (not recommended) if you want to install the tools to other directories under the root of the system.</p>
<p>Add the <code>PATH</code> export to your shell profile/login script to make that change permanent.</p>
<h2 id="vDependencies"><a href="#vDependencies" class="headerlink" title="vDependencies"></a>vDependencies</h2><p>We need to get some dependencies that aren’t included by the system or developer tools:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install gmp mpfr libmpc gcc</span><br></pre></td></tr></table></figure>

<p>gcc is being installed, but this is because we need gcc to build gcc. That version of gcc is not suitable as it’s not a cross compiler, e.g. building for i386 will be <em>very</em> difficult.</p>
<h2 id="Acquiring-sources"><a href="#Acquiring-sources" class="headerlink" title="Acquiring sources"></a>Acquiring sources</h2><p>Run the following to download the binutils and gcc sources. Only certain versions of these will work together, so be aware of this if you want to use newer versions.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p $HOME/src</span><br><span class="line">cd $HOME/src</span><br><span class="line">wget ftp://ftp.gnu.org/gnu/binutils/binutils-2.25.tar.gz</span><br><span class="line">wget ftp://ftp.gnu.org/gnu/gcc/gcc-5.2.0/gcc-5.2.0.tar.gz</span><br><span class="line">for pkg in *.tar.gz; do tar zxf $pkg; done</span><br></pre></td></tr></table></figure>

<h2 id="Building-binutils"><a href="#Building-binutils" class="headerlink" title="Building binutils"></a>Building binutils</h2><p>This will attempt to build binutils:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir build-binutils</span><br><span class="line">cd build-binutils</span><br><span class="line">../binutils-2.25/configure --prefix=$PREFIX --target=i386-elf --disable-multilib --disable-nls --disable-werror</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>If <code>make install</code> fails with an error like “/share: Read-only file system,” most likely, <code>$PREFIX</code> was set incorrectly. <code>echo $PREFIX</code> should show the directory set earlier.</p>
<p>If everything in this step completed successfully, try running one of the binutils tools. You should get output like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ i386-elf-ld --version</span><br><span class="line">GNU ld (GNU Binutils) 2.25</span><br><span class="line">Copyright (C) 2014 Free Software Foundation, Inc.</span><br><span class="line">This program is free software; you may redistribute it under the terms of</span><br><span class="line">the GNU General Public License version 3 or (at your option) a later version.</span><br><span class="line">This program has absolutely no warranty.</span><br></pre></td></tr></table></figure>

<h2 id="Building-gcc-1"><a href="#Building-gcc-1" class="headerlink" title="Building gcc"></a>Building gcc</h2><p>First, gcc needs to download a few packages to build:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $HOME/src/gcc-5.2.0</span><br><span class="line">./contrib/download_prerequisites</span><br></pre></td></tr></table></figure>

<p>We’re only going to build gcc and its libraries:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir build-gcc</span><br><span class="line">cd build-gcc</span><br><span class="line">../gcc-7.2.0/configure --prefix=$PREFIX --target=i386-elf --disable-multilib --disable-nls --disable-werror --without-headers --enable-languages=c,c++</span><br><span class="line">make all-gcc install-gcc</span><br><span class="line">make all-target-libgcc install-target-libgcc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">../gcc-8.2.0/configure --prefix=$PREFIX --target=i386-elf --enable-languages=c,c++ --with-system-zlib --disable-multilib</span><br></pre></td></tr></table></figure>

<p>This will take somewhere between 15 minutes and 47 years, so go ahead and grab a drink.</p>
<h1 id="Bochs-with-gdbstub"><a href="#Bochs-with-gdbstub" class="headerlink" title="Bochs with gdbstub"></a>Bochs with gdbstub</h1><p>By default, bochs from homebrew does <em>not</em> include the gdb stub. Edit the brew formula (<code>brew edit bochs</code>) and add the <code>--enable-gdb-stub</code> flag to the configure arguments. Also, remove the <code>--enable-debugger</code> flag since they are mutually exclusive.</p>
<p>Lastly, re-install bochs from source: <code>brew install --build-from-source bochs</code> and you should be good to go.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/muchengl">Projects</a></li>
         
          <li><a href="/about-me/">About me</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Easy-stuff"><span class="toc-number">1.</span> <span class="toc-text">Easy stuff</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Building-gcc"><span class="toc-number">2.</span> <span class="toc-text">Building gcc</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vDependencies"><span class="toc-number">2.1.</span> <span class="toc-text">vDependencies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Acquiring-sources"><span class="toc-number">2.2.</span> <span class="toc-text">Acquiring sources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Building-binutils"><span class="toc-number">2.3.</span> <span class="toc-text">Building binutils</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Building-gcc-1"><span class="toc-number">2.4.</span> <span class="toc-text">Building gcc</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bochs-with-gdbstub"><span class="toc-number">3.</span> <span class="toc-text">Bochs with gdbstub</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&text=CSCE611 OS Env Prepare"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&is_video=false&description=CSCE611 OS Env Prepare"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=CSCE611 OS Env Prepare&body=Check out this article: https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&title=CSCE611 OS Env Prepare"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&name=CSCE611 OS Env Prepare&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://muchengl.github.io/muchengl.github.io/2024/01/23/CSCE611-MP1/&t=CSCE611 OS Env Prepare"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022-2024
    Mucheng
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/muchengl">Projects</a></li><!--
     --><!--
       --><li><a href="/about-me/">About me</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

  <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?ca9c96824d3c6e12c4c077d3bd7527b8";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
